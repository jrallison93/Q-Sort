<!DOCTYPE html>
<html lang="en">
<head>
    <script src="script.js"></script>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Q-Sort Grid</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            display: flex;
            flex-direction: column;
            align-items: center;
            margin: 30px;
            padding: 0;
            background-color: #f4f4f4;
        }

        h2 {
            margin-top: 20px;
        }

        #participant-section {
            margin: 20px 0;
        }

        input[type="text"] {
            padding: 8px;
            width: 400px;
            margin-top: 5px;
        }

        #statements {
            margin: 20px 0;
            display: flex;
            gap: 10px;
            flex-wrap: wrap;
            justify-content: center;
        }

        .statement {
            background-color: #fff;
            padding: 10px;
            border: 1px solid #000;
            margin: 5px;
            cursor: grab;
        }

        .grid {
            display: flex;
            gap: 10px;
            justify-content: center;
            margin-top: 20px;
        }

        .column {
            display: flex;
            flex-direction: column;
            align-items: center;
        }

        .dropzone {
            width: 140px;
            min-height: 60px;
            border: 2px dashed #ccc;
            padding: 5px;
            background-color: #eaeaea;
            margin: 5px;
        }

        .full-dropzone {
            border-color: red;
            background-color: #f8d7da;
        }

        button {
            margin-top: 20px;
            padding: 10px 20px;
            background-color: #007bff;
            color: white;
            border: none;
            cursor: pointer;
        }

        button:hover {
            background-color: #0056b3;
        }
    </style>
</head>
<body>

    <h2>Enhancing Employability in Computer Science Education: A Comprehensive Examination of Employability Skills, Perspectives, and Priorities.</h2>

    <p> We would like to invite you to take part in a research study. The study is voluntary and you will only be included if you provide your permission. Permission will be deemed as granted by filling in this survey. Once we have finished the research project, we intend to present the results at conferences and
in academic journal articles. Please note, that when we publish the results, no participant will be identifiable. By taking part in this study, you may help enhance the teaching and learning experience within the university. There are no known risks associated with taking part in this study. This research project has been approved by the University of Gloucestershireâ€™s Research Ethics Committee (REC). Please contact the research lead, Dr Jordan Allison (jallison1@glos.ac.uk) if you have any questions about this project.  </p>
    
    <p>Place the following statements in the grid below, according to how you rank them from least important (-3) to most important (+3) for a career in computer science</p>

    <div id="statements">
        <div class="statement" draggable="true">Leadership</div>
        <div class="statement" draggable="true">Teamwork</div>
        <div class="statement" draggable="true">Communication</div>
        <div class="statement" draggable="true">Problem Solving</div>
        <div class="statement" draggable="true">Programming</div>
        <div class="statement" draggable="true">Other 1</div>
        <div class="statement" draggable="true">Other 2</div>
        <div class="statement" draggable="true">Other 3</div>
        <div class="statement" draggable="true">Other 4</div>
        <div class="statement" draggable="true">Other 5</div>
    </div>

    <div class="grid">
        <div class="column"><p>-3</p><div class="dropzone" data-max="2"></div></div>
        <div class="column"><p>-2</p><div class="dropzone" data-max="3"></div></div>
        <div class="column"><p>-1</p><div class="dropzone" data-max="4"></div></div>
        <div class="column"><p>0</p><div class="dropzone" data-max="5"></div></div>
        <div class="column"><p>+1</p><div class="dropzone" data-max="4"></div></div>
        <div class="column"><p>+2</p><div class="dropzone" data-max="3"></div></div>
        <div class="column"><p>+3</p><div class="dropzone" data-max="2"></div></div>
    </div>

    <p>If you decide you would like to withdraw from the study, please contact the research lead (Dr Jordan Allison: jallison1@glos.ac.uk) with your unique identifier (entered below) so your response can be removed. You will able to withdraw from the study up to one month after the survey closes.</p>
    
    <div id="participant-section">
        <label for="participant">Your Unique Identifier (e.g. three random words):</label><br>
        <input type="text" id="participant" placeholder="Enter your unique identifier">
    </div>
    
    <button onclick="submitResults()">Submit Results</button>

    <!-- Hidden form that submits to Google Apps Script -->
    <form id="qsortForm" action="https://script.google.com/macros/s/AKfycbwMH_MHfCRNBxP_hE2vWEWmdAxATSjiQlAgJNrR_rURYnff4wbH3FuCXNqNXtEE1tsf3A/exec" method="POST" style="display:none;">
        <input type="hidden" name="results" id="results">
        <input type="hidden" name="participant" id="hidden-participant">
    </form>

    <script>
        const statements = document.querySelectorAll('.statement');
        const dropzones = document.querySelectorAll('.dropzone');

statements.forEach(statement => {
    statement.addEventListener('dragstart', (e) => {
        e.dataTransfer.setData('text/plain', statement.innerText);
        statement.classList.add('dragging');
    });

    statement.addEventListener('dragend', () => {
        statement.classList.remove('dragging');
    });
});

dropzones.forEach(dropzone => {
    dropzone.addEventListener('dragover', (e) => {
        e.preventDefault();
    });

    dropzone.addEventListener('drop', (e) => {
        e.preventDefault();
        const text = e.dataTransfer.getData('text/plain');

        const draggedStatement = document.querySelector('.dragging');

        if (draggedStatement) {
            const currentZone = draggedStatement.parentElement;
            if (currentZone !== dropzone) {
                const maxItems = parseInt(dropzone.getAttribute('data-max'));
                const currentItems = dropzone.querySelectorAll('.statement').length;

                if (currentItems < maxItems) {
                    dropzone.appendChild(draggedStatement);
                } else {
                    dropzone.classList.add('full-dropzone');
                    setTimeout(() => dropzone.classList.remove('full-dropzone'), 1000);
                }
            }
        }
    });
});


    </script>

</body>
</html>
